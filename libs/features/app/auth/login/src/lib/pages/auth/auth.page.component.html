<div *ngIf="user$ | async; else showLogin">

    <app-navbar [backButton]="false">
        <!-- <app-user-menu></app-user-menu> -->
    </app-navbar>

    <app-spinner></app-spinner>

</div>

<ng-template #showLogin>
    <div class="auth-page" fxLayout="row">
        <div class="auth-card" fxLayout="row" fxLayoutAlign="start start" fxFlex="100">
            <div class="login-form" fxLayout="column" fxLayoutAlign="space-evenly center" fxFlex>
                <div class="row" fxLayoutAlign="space-evenly center">
                    <div class="tiny-logo" fxLayout="column" fxLayoutAlign="start">
                        <img class="image" src="assets/images/elewa-logo.png/ " />
                    </div>

                    <div fxLayout="column" fxLayoutAlign="end center">
                        <mat-select id="lang-selector" [(ngModel)]="lang" style="margin-left:140px;" data-intercom-tooltip="Language selector" [matTooltip]=" 'ELS.TOGGLES.SWITCH-LANG' | transloco ">
                            <mat-option value="en" (click)="setLang('en') ">EN</mat-option>
                            <mat-option value="fr" (click)="setLang('fr') ">FR</mat-option>
                        </mat-select>
                    </div>
                </div>
                <div style="min-width: 100%;" fxLayout="row" fxLayoutAlign="center center">
                    <div fxLayout="column" class="tab-groups" fxLayoutAlign="start center" fxFlex="46">
                        <mat-tab-group mat-stretch-tabs style="min-width: 100%;" (selectedTabChange)="authChanged($event)">
                            <mat-tab (click)="toggleModeLogin()" label="Log In">
                                <span *ngIf="isLogin" fxFlex>
                                    <app-login fxFlex></app-login>
                                </span>
                            </mat-tab>
                            <mat-tab (click)="toggleMode()" label="Create Account">
                                <span *ngIf="!isLogin" fxFlex>
                                    <app-register class="register"></app-register>
                                </span>
                            </mat-tab>
                        </mat-tab-group>
                    </div>
                </div>
            </div>
            <div class="elewa-info" fxLayout="column" fxLayoutAlign="center" fxFlex="40">
                <p class="title ">{{ 'LOGIN.HERO.TITLE' | transloco }}</p>
                <p class="description "> {{'LOGIN.HERO.DESCRIPTION' | transloco}}</p>
                <p class="hyperlink ">{{'LOGIN.HERO.LEARN-MORE' | transloco}}
                    <a [href]=" 'LOGIN.HERO.LEARN-MORE-LINK' | transloco ">{{'LOGIN.HERO.LEARN-MORE-LINK'|
                        transloco}}</a>
                </p>
            </div>
        </div>
    </div>
</ng-template>